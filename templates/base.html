<!doctype html>
<meta name='viewport' content='width=device-width, initial-scale=0.75'>
<title>{{ template "title" . }} - My Bookmarks</title>
<link rel='icon' href='/static/favicon.ico'>
<script src='https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/jquery-ui-dist@1/jquery-ui.min.js'></script>
<script src='https://cdn.jsdelivr.net/npm/sweetalert2@9/dist/sweetalert2.all.min.js'></script>
<script src='/static/script.js'></script>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css'>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/spinkit@2/spinkit.min.css'>
<link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/google/material-design-icons@3/iconfont/material-icons.min.css'>
<link rel='stylesheet' href='/static/style.css'>
<nav class='navbar navbar-light topbar'>
  <div class='d-flex' style='height: 100%;'>
    {{ if .user }}
    <a class='toggle'><i class='material-icons menu'>menu</i></a>
    {{ end }}
    <a class='brand' href='/'>My Bookmarks</a>
  </div>
  <div class='navbar-nav flex-row'>
    {{ if .user }}
    <a class='nav-link'>{{ .user }}</a>
    <a class='nav-link link' onclick='setting()'>Setting</a>
    <a class='nav-link link' href='/auth/logout'>Log Out</a>
    {{ else }}
    <a class='nav-link'>Log In</a></li>
    {{ end }}
  </div>
</nav>
{{ if .user }}
<nav class='nav flex-column navbar-light sidebar'>
  <div class='category-menu'>
    <button class='btn btn-primary btn-sm' onclick='category()'>Add Category</button>
    <a class='navbar-brand category' id='-1'>All Bookmarks</a>
    <ul class='navbar-nav' id='categories'></ul>
  </div>
</nav>
{{ end }}
<div class='loading'>
  <div class='sk-wave sk-center'>
    <div class='sk-wave-rect'></div>
    <div class='sk-wave-rect'></div>
    <div class='sk-wave-rect'></div>
    <div class='sk-wave-rect'></div>
    <div class='sk-wave-rect'></div>
  </div>
</div>
<div class='content' {{ if .user }}style='padding-left: 250px;' {{ end }}>
  {{ template "content" . }}
</div>
{{ if .user }}
<script>
  $(() => load(-1));
  $(document).on('click', '.category', function () {
    my_bookmarks($(this).prop('id'));
    if ($(window).width() <= 900) {
      $('.sidebar').toggle('slide');
    };
  });
  $(document).keyup(event => {
    if (event.key == 'ArrowUp') {
      arrow('up');
    } else if (event.key == 'ArrowDown') {
      arrow('down');
    };
  });
  $(document).on('keyup', '.content', event => {
    if (event.key == 'Enter') {
      $('#submit').click();
    };
  });
  $('.toggle').click(() => {
    $('.sidebar').toggle('slide');
  });
  $('.content').click(() => {
    if ($('.sidebar').is(':visible') && $(window).width() <= 900) {
      $('.sidebar').toggle('slide');
    };
  });
</script>
{{ end }}
